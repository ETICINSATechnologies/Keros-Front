<div class="card card-secondary">
  <div class="card-header">
    <h3 class="card-title">Documents</h3>
  </div>
  <div class="card-body">
    {{#if (eq entity 'members')}}
      {{#each viewed.documents}}
        <div class="col-md-12 d-flex justify-content-between align-items-center">
          <label>{{name}}</label>
          <div class="d-inline-block">
            <button
              class="btn btn-app mx-0"
              formmethod="get"
              formaction="/sg/registrations/{{../entity}}/{{../viewed.id}}/documents/{{id}}/template"
              {{#unless (and
                (eq ../action 'view')
                isTemplatable)
              }}disabled{{/unless}}
            >
              <i class="fas fa-file-alt"></i>
              Template
            </button>
            <button
              type="button"
              class="btn btn-app mx-0"
              onclick="triggerFileInput.bind(this)()"
              {{#unless (eq ../action 'view')}}disabled{{/unless}}
            >
              <i class="fas fa-file-upload"></i>
              Upload
            </button>
            <input
              type="file"
              onchange="uploadFile.bind(this)({{../viewed.id}}, {{id}}, '{{../entity}}')"
              hidden
            >
            <button
              class="btn btn-app mx-0"
              formmethod="get"
              formaction="/sg/registrations/{{../entity}}/{{../viewed.id}}/documents/{{id}}/download"
              {{#unless (and
                (eq ../action 'view')
                isUploaded)
              }}disabled{{/unless}}
            >
              <i class="fas fa-file-download"></i>
              Download
            </button>
          </div>
        </div>
      {{/each}}
    {{else if (eq entity 'consultants')}}
      {{#each viewed.isFileUploaded}}
        <div class="col-md-12 d-flex justify-content-between align-items-center">
          <label>
            {{#if (eq @key 'documentIdentity')}}
              Carte d'Identité
            {{else if (eq @key 'documentScolaryCertificate')}}
              Certificat de Scolarité
            {{else if (eq @key 'documentRIB')}}
              RIB
            {{else if (eq @key 'documentVitaleCard')}}
              Carte Vitale
            {{else if (eq @key 'documentResidencePermit')}}
              Titre de séjour
            {{else if (eq @key 'documentCVEC')}}
              Attestation CVEC
            {{/if}}
          </label>
          <div class="d-inline-block">
            <button
              class="btn btn-app mx-0"
              onclick="triggerFileInput.bind(this)()"
              {{#unless (eq ../action 'view')}}disabled{{/unless}}
            >
              <i class="fas fa-file-upload"></i>
              Upload
            </button>
            <input type="file" hidden>
            <button
              class="btn btn-app mx-0"
              formmethod="get"
              formaction="/sg/registrations/{{../entity}}/{{../viewed.id}}/documents/{{@key}}/download"
              {{#unless (and
                (eq ../action 'view')
                this)
              }}disabled{{/unless}}
            >
              <i class="fas fa-file-download"></i>
              Download
            </button>
          </div>
        </div>
      {{/each}}
    {{/if}}
  </div>
</div>
